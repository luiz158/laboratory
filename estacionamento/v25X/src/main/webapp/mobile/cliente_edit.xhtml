<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pm="http://primefaces.org/mobile">
<h:body>
	<ui:include src="/mobile/template/main_mobile.xhtml" />
	<pm:page id="edit_automovel" title="Edição de automovel">
		<pm:header title="Edição de automovel" swatch="b">

	<pm:page title="Edição de cliente">
		<!-- Main View -->
		<pm:view id="main">
			<pm:header title="Edição de cliente" swatch="b">
				<f:facet name="left">
					<p:button style="width:10; height:30; border:1px solid #000;"
						value="#{messages['button.back']}" icon="back"
						href="#{clienteEditMB.previousView}" />
				</f:facet>
				<f:facet name="right">
					<p:button value="#{messages['main.app.title']}" icon="home"
						href="./navigator.jsf" />
				</f:facet>
			</pm:header>
			<pm:content>
				<h:form>
					<pm:buttonGroup orientation="horizontal">
					<h:commandButton value="#{messages['button.save']}"
						action="#{clienteEditMB.insert}"
						rendered="#{!clienteEditMB.updateMode}" ajax="false" />
					<h:commandButton value="#{messages['button.save']}"
						action="#{clienteEditMB.update}"
						rendered="#{clienteEditMB.updateMode}" ajax="false" />
					<h:commandButton value="#{messages['button.delete']}"
						action="#{clienteEditMB.delete}"
						rendered="#{clienteEditMB.updateMode}" 
						immediate="true" ajax="false" disabled="#{!securityContext.hasRole('gerente')}" />					
					</p:confirmDialog>
					</pm:buttonGroup>
					<h:outputLabel value="#{messages['cliente.label.id']}:" for="id" styleClass="text-input" />
					<h:outputText id="id" value="#{clienteEditMB.bean.id}" />
					<h:message for="id" />
					<h:outputLabel value="#{messages['cliente.label.nome']}:"	for="nome" styleClass="text-input" />
					<h:inputText id="nome" value="#{clienteEditMB.bean.nome}" title="#{messages['cliente.alt.nome']}" />
					<h:message for="nome" />
					<h:outputLabel value="#{messages['cliente.label.cpf']}:" for="cpf"	styleClass="text-input" />
					<h:inputText id="cpf" value="#{clienteEditMB.bean.cpf}"	title="#{messages['cliente.alt.cpf']}" />
					<h:message for="cpf" />
					<h:outputLabel value="#{messages['cliente.label.email']}:"	for="email" styleClass="text-input" />
					<h:inputText id="email" value="#{clienteEditMB.bean.email}"	title="#{messages['cliente.alt.email']}" />
					<h:message for="email" />
					<h:outputLabel value="#{messages['cliente.label.tituloEleitor']}: "	for="tituloEleitor" styleClass="text-input" />
					<h:inputText id="tituloEleitor"	value="#{clienteEditMB.bean.tituloEleitor}"	title="#{messages['cliente.alt.tituloEleitor']}" />
					<h:message for="tituloEleitor" />
					<h:outputLabel value="#{messages['cliente.label.documento']}: "	for="documento" styleClass="text-input" />
					<h:inputText id="documento" value="#{clienteEditMB.bean.documento}"	title="#{messages['cliente.alt.documento']}" />
					<h:message for="documento" />
					<h:outputLabel value="#{messages['cliente.label.telefone']}: "	for="telefone" styleClass="text-input" />
					<h:inputText id="telefone" value="#{clienteEditMB.bean.telefone}" title="#{messages['cliente.alt.telefone']}" />
					<h:message for="telefone" />
					<p:panel header="#{messages['automovel.label']}" toggleable="true" toggleSpeed="500">
						<h:panelGrid id="fieldsautomovel" columns="1">
						 <p:outputPanel>
							<p:commandButton value="#{messages['button.new']}"
								action="#{clienteEditMB.addAutomovel}" update="listAutomovel" />
							<p:dataTable id="listAutomovel" var="automovel"	value="#{clienteEditMB.automoveis}" rowIndexVar="index">
						<f:attribute name="columnToggle" value="true" />
						<p:column>
							<f:facet name="header">#{messages['automovel.label.marca']}</f:facet>
							<h:outputText id="marca" value="#{automovel.marca}"/>					
						</p:column>
						<p:column>
						<f:facet name="header">#{messages['automovel.label.modelo']}</f:facet>
							<h:outputText value="#{automovel.modelo}" />
						</p:column>
						<p:column>
						<f:facet name="header">#{messages['automovel.label.placa']}</f:facet>
							<h:outputText value="#{automovel.placa}" />							
						</p:column>
						<p:column>
						<f:facet name="header">#{messages['automovel.label.tamanho']}</f:facet>
							<h:outputText value="#{messages[automovel.tamanho]}" /> 
						</p:column>
						<p:column>
							<f:facet name="header">#{messages['automovel.label.tipo']}</f:facet>
							<h:outputText value="#{messages[automovel.tipo]}" />
						</p:column>
					</p:dataTable>
							</p:outputPanel>
						</h:panelGrid>
					</p:panel>			
				</h:form>
			</pm:content>
		</pm:view>
	</pm:page>
</f:view>