<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Projeto Escola</title><link rel="stylesheet" href="css/demoiselleframework.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="description" content=""/></head><body><div class="book" lang="pt-BR"><div class="titlepage"><div><p id="title"><a href="http://www.frameworkdemoiselle.gov.br" class="site_href"><strong>FrameworkDemoiselle.gov.br</strong></a><a href="http://www.frameworkdemoiselle.gov.br" class="doc_href"><strong>Community Documentation</strong></a></p><div><h1 class="title"><a id="d4e1"/>Projeto Escola</h1></div><div><h2 class="subtitle">Documentação</h2></div><div><div class="authorgroup">

	<div class="author"><h3 class="author">Clóvis Lemes Ferreira Junior</h3><code class="email">&lt;<a class="email" href="mailto:clovis.ferreira@serpro.gov.br">clovis.ferreira@serpro.gov.br</a>&gt;</code></div>

</div></div><div><div class="revhistory"><table border="1" width="100%" summary="Revision history"><tr><th align="left" valign="top" colspan="3"><b>Histórico de Revisões</b></th></tr>
	<tr><td align="left">Revisão 1.0.0</td><td align="left"/><td align="left">xx</td></tr><tr><td align="left" colspan="3">Documentação do site atualizada.</td></tr>
	<tr><td align="left">Revisão 1.0.4</td><td align="left"/><td align="left">xx</td></tr><tr><td align="left" colspan="3">Inicialização do banco de dados junto com o contexto da aplicação</td></tr>
	<tr><td align="left">Revisão 2.2.2</td><td align="left"/><td align="left">xx</td></tr><tr><td align="left" colspan="3">Upgrade da versão do Demoiselle Famework 1.x para 2.2.2</td></tr>
</table></div></div><div><div class="abstract"><p class="title"><b>Resumo</b></p>Projeto Escola é um produto de software para aprendizagem das funcionalidades do Demoiselle Framework 2.2.2</div></div></div><hr/></div><div class="toc"><dl><dt><span class="preface"><a href="#d4e28">Sobre o Projeto Escola</a></span></dt><dt><span class="chapter"><a href="#d4e32">1. Instalação</a></span></dt><dt><span class="chapter"><a href="#d4e45">2. Funcionalidades Utilizadas</a></span></dt><dd><dl><dt><span class="section"><a href="#d4e48">2.1. Funcionalidade de Exceções</a></span></dt><dt><span class="section"><a href="#d4e55">2.2. Funcionalidade de Mensagens</a></span></dt><dt><span class="section"><a href="#d4e62">2.3. Funcionalidade de Configurações</a></span></dt><dt><span class="section"><a href="#d4e69">2.4. Funcionalidade de Segurança</a></span></dt><dt><span class="section"><a href="#d4e76">2.5. Funcionalidade de Relatório</a></span></dt><dt><span class="section"><a href="#d4e83">2.6. Funcionalidade de Transação</a></span></dt><dt><span class="section"><a href="#d4e90">2.7. Funcionalidade de Inicialização</a></span></dt><dt><span class="section"><a href="#d4e97">2.8. Funcionalidade de E-mail</a></span></dt></dl></dd><dt><span class="chapter"><a href="#d4e104">3. Caso de Uso</a></span></dt><dd><dl><dt><span class="section"><a href="#d4e106">3.1. Caso de Uso</a></span></dt></dl></dd><dt><span class="chapter"><a href="#d4e113">4. Camadas</a></span></dt><dd><dl><dt><span class="section"><a href="#d4e115">4.1. Camada de Persistência</a></span></dt><dt><span class="section"><a href="#d4e122">4.2. Camada de Negócio</a></span></dt><dt><span class="section"><a href="#d4e129">4.3. Camada de Visão</a></span></dt></dl></dd></dl></div>

	

	

	<div class="preface" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e28"/>Sobre o Projeto Escola</h2></div></div></div>
		
		<p> 
			Escola é um projeto de software construído sob o Framework Demoiselle, seu objetivo é prover uma aplicação de 
			exemplo para estudo do framework e seus componentes. Suas funcionalidades foram projetadas de maneira que os 
			principais recursos do framework fossem utilizados, portanto não há pretenção de criar uma ferramenta que 
			atenda requisitos reais de uma aplicação comercial, mas um projeto que possua problemas capazes de serem 
			resolvidos com uso do Framework Demoiselle e apresente estas soluções didaticamente.
		</p>
	</div>

	

	
	<div class="chapter" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e32"/>Capítulo 1. Instalação</h2></div></div></div>

	
	<p>
		O código fonte pode ser encontrado no repositório do GitHub no endereço 
		<a class="link" href="https://github.com/demoiselle/laboratory/escola-2.2.2" target="">https://github.com/demoiselle/laboratory/escola-2.2.2</a> 
	</p>
	<p>
		Ferramentas utilizadas:
		</p><div class="itemizedlist"><ul><li>demoiselle-eclipse-3.7-SR2</li><li>demoiselle-workspace</li><li>demoiselle-maven2</li><li>demoiselle-maven2-local-repo</li><li>demoiselle-jboss-6.1</li></ul></div><p>
	</p>
	<p>
		As ferramentas listadas acima fazem parte do Projeto Demoiselle Infra que pode ser encontrado no endereço 
		<a class="link" href="http://demoiselle.sourceforge.net/infra/1.2.4" target="">http://demoiselle.sourceforge.net/infra/1.2.4</a>
	</p>

</div>
	<div class="chapter" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e45"/>Capítulo 2. Funcionalidades Utilizadas</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d4e48">2.1. Funcionalidade de Exceções</a></span></dt><dt><span class="section"><a href="#d4e55">2.2. Funcionalidade de Mensagens</a></span></dt><dt><span class="section"><a href="#d4e62">2.3. Funcionalidade de Configurações</a></span></dt><dt><span class="section"><a href="#d4e69">2.4. Funcionalidade de Segurança</a></span></dt><dt><span class="section"><a href="#d4e76">2.5. Funcionalidade de Relatório</a></span></dt><dt><span class="section"><a href="#d4e83">2.6. Funcionalidade de Transação</a></span></dt><dt><span class="section"><a href="#d4e90">2.7. Funcionalidade de Inicialização</a></span></dt><dt><span class="section"><a href="#d4e97">2.8. Funcionalidade de E-mail</a></span></dt></dl></div>

	
	<p>
		O Projeto Escola utiliza algumas funcionalidades do Framework Demoiselle 2.2.2 que ajudam 
		na criação e facilitam o seu desenvolvimento.
		Abaixo temos uma breve descrição de como cada funcionalidade foi utilizada.
	</p>
	
	<div class="section" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e48"/>2.1. Funcionalidade de Exceções</h2></div></div></div>
		
		<p>
			Foi utilizado uma Exceção de Aplicação "@ApplicationException" chamada "EscolaException" para representar todos os erros 
			acontecidos na aplicação.
			Uma excecão lançada na camada de Negócio ou Persistência pode ser transmitidas entre as camadas até a tela de apresentação "View"
			sem precisar programar essa transferência de mensagens entre as camadas, o Framework Demoiselle 2 traz essa facilidade para o desenvolvedor.
		</p>
		<div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Nota</h2>
			<p>
				Referência: 
			</p>
			<p>
				<a class="link" href="http://demoiselle.sourceforge.net/docs/framework/reference/2.2.2/html/excecao.html" target="">http://demoiselle.sourceforge.net/docs/framework/reference/2.2.2/html/excecao.html</a>
			</p>
		</div>
	</div>
	
	<div class="section" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e55"/>2.2. Funcionalidade de Mensagens</h2></div></div></div>
		
		<p>
			Com a utilização do mecanismo de Mensagens do Framework Demoiselle 2 foi possível realizar a transmissão de mensagens
			entre as camadas.
		</p>
		<div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Nota</h2>
			<p>
				Referência: 
			</p>
			<p>
				<a class="link" href="http://demoiselle.sourceforge.net/docs/framework/reference/2.2.2/html/mensagem.html" target="">http://demoiselle.sourceforge.net/docs/framework/reference/2.2.2/html/mensagem.html</a>
			</p>
		</div>
	</div>
	
	<div class="section" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e62"/>2.3. Funcionalidade de Configurações</h2></div></div></div>
		
		<p>
			Utilizado para externalizar as configurações do JDBC (.properties) e dos Papeis dos Usuários (.xml)
		</p>
		<div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Nota</h2>
			<p>
				Referência: 
			</p>
			<p>
				<a class="link" href="http://demoiselle.sourceforge.net/docs/framework/reference/2.2.2/html/configuracao.html" target="">http://demoiselle.sourceforge.net/docs/framework/reference/2.2.2/html/configuracao.html</a>
			</p>
		</div>
	</div>
	
	<div class="section" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e69"/>2.4. Funcionalidade de Segurança</h2></div></div></div>
		
		<p>
			No Projeto Escola foi adicionado o Mecanismo de Segurança por método. Através do usuário logado na aplicação é possível saber
			quais são seus Papeis e através dele saber se o usuário logado tem permissão de execução do método.
			Todo o tratamento de Autenticação e Autorização do usuário é realizado pelo Framework Demoiselle.
		</p>
		<div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Nota</h2>
			<p>
				Referência: 
			</p>
			<p>
				<a class="link" href="http://demoiselle.sourceforge.net/docs/framework/reference/2.2.2/html/security.html" target="">http://demoiselle.sourceforge.net/docs/framework/reference/2.2.2/html/security.html</a>
			</p>
		</div>
	</div>
	
	<div class="section" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e76"/>2.5. Funcionalidade de Relatório</h2></div></div></div>
		
		<p>
			Com a utilização do componente de relatórios do demoiselle (demoiselle-report) foi possível realizar a geração de relatórios em PDF e ODT
			de forma simples. Através de anotações e das classes do componente o trabalho de configuração, preparação, comunicação com 
			os arquivos .jrxml ou .jasper foram abstraídos. 
		</p>
		<div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Nota</h2>
			<p>
				Referência: 
			</p>
			<p>
				<a class="link" href="http://demoiselle.sourceforge.net/docs/components/2.2.0/html/report-master.html" target="">http://demoiselle.sourceforge.net/docs/components/2.2.0/html/report-master.html</a>
			</p>
		</div>
	</div>
	
	<div class="section" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e83"/>2.6. Funcionalidade de Transação</h2></div></div></div>
		
		<p>
			Com a utilização de uma única anotação "@Transactional" foi possível delegar todo o trabalho de inicializar a transação, verificação da transação e 
			encerramento da transação para que o Framework Demoiselle, diminuindo consideravelmente o tempo de desenvolvimento.
		</p>
		<div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Nota</h2>
			<p>
				Referência: 
			</p>
			<p>
				<a class="link" href="http://demoiselle.sourceforge.net/docs/what-is-new/2.0.1/html/arquitetura.html#d0e214" target="">http://demoiselle.sourceforge.net/docs/what-is-new/2.0.1/html/arquitetura.html#d0e214</a>
			</p>
		</div>
	</div>
	
	<div class="section" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e90"/>2.7. Funcionalidade de Inicialização</h2></div></div></div>
		
		<p>
			Onde antes se implementava "ServletContextListerner" para executar algum trecho de código após a aplicação ser inicializada, com o Mecanismo de Inicialização
			é possível utilizar qualquer método de qualquer classe do seu projeto apenas utilizando a anotação "@Startup".
			No Projeto Escola essa anotação foi utilizada na classe DataSampleLoader para iniciar uma carga de registros na aplicação.
		</p>
		<div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Nota</h2>
			<p>
				Referência: 
			</p>
			<p>
				<a class="link" href="http://demoiselle.sourceforge.net/docs/framework/reference/2.2.2/html/inicializacao.html" target="">http://demoiselle.sourceforge.net/docs/framework/reference/2.2.2/html/inicializacao.html</a>
			</p>
		</div>
	</div>
	
	<div class="section" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e97"/>2.8. Funcionalidade de E-mail</h2></div></div></div>
		
		<p>
			Outra facilidade na forma de componente foi a utilização do componente de e-mail do Demoiselle (demoiselle-mail).
			No Projeto Escola foi utilizado no envio de e-mail logo após o Professor cadastrar uma Nota no sistema, com poucas configurações já foi possível
			realizar o disparo dos e-mails. 
		</p>
		<div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Nota</h2>
			<p>
				Referência: 
			</p>
			<p>
				<a class="link" href="http://demoiselle.sourceforge.net/docs/components/2.2.0/html/mail-master.html" target="">http://demoiselle.sourceforge.net/docs/components/2.2.0/html/mail-master.html</a>
			</p>
		</div>
	</div>

</div>
	<div class="chapter" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e104"/>Capítulo 3. Caso de Uso</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d4e106">3.1. Caso de Uso</a></span></dt></dl></div>

	
	
	<div class="section" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e106"/>3.1. Caso de Uso</h2></div></div></div>
		
		<div class="mediaobject"><img src="images/casodeuso.png"/></div>
	</div>

</div>
	<div class="chapter" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e113"/>Capítulo 4. Camadas</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d4e115">4.1. Camada de Persistência</a></span></dt><dt><span class="section"><a href="#d4e122">4.2. Camada de Negócio</a></span></dt><dt><span class="section"><a href="#d4e129">4.3. Camada de Visão</a></span></dt></dl></div>

	

	<div class="section" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e115"/>4.1. Camada de Persistência</h2></div></div></div>
		
		<div class="mediaobject"><img src="images/persistence.png"/></div>
	     
	</div>
	
	<div class="section" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e122"/>4.2. Camada de Negócio</h2></div></div></div>
		
		<div class="mediaobject"><img src="images/business.png"/></div>
	</div>
	
	<div class="section" lang="pt-BR"><div class="titlepage"><div><div><h2 class="title"><a id="d4e129"/>4.3. Camada de Visão</h2></div></div></div>
		
		<div class="mediaobject"><img src="images/view.png"/></div>
	</div>
	
</div>

</div></body></html>